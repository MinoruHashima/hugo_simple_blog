<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ .Site.Title }}</title>
  <link href="https://fonts.googleapis.com/css2?family=Klee+One&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css?v={{ now.Unix }}">
  <!-- 言語自動判別 -->
  <script src="/js/language-redirect.js"></script>
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0756QJSNQW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-0756QJSNQW');
  </script>
</head>
<body>
  <div class="container">
    <header>
      <h1>Good Eyes S.S</h1>
      <nav class="language-switcher">
        {{ range .Site.Languages }}
          {{ if not (eq .Lang "hr") }}
            {{ if eq $.Site.Language.Lang .Lang }}
              <span class="current-lang">{{ .LanguageName }}</span>
            {{ else }}
              {{ $langUrl := "/" }}
              {{ if ne .Lang "ja" }}
                {{ $langUrl = printf "/%s/" .Lang }}
              {{ end }}
              <a href="{{ $langUrl }}" data-lang="{{ .Lang }}">{{ .LanguageName }}</a>
            {{ end }}
          {{ end }}
        {{ end }}
      </nav>
    </header>

    <main>
      {{ $paginator := .Paginate .Site.RegularPages }}
      {{ range $paginator.Pages }}
      <article>
        <a href="{{ .Params.external_url }}" target="_blank" rel="noopener">
          <h2>{{ .Title }}</h2>
          <p class="summary">{{ .Params.summary }}</p>
          <p class="source-info">{{ .Date.Format "2006.01.02" }}　{{ .Params.source }}　{{ .Params.country }}</p>
        </a>
      </article>
      {{ end }}

      {{ if gt $paginator.TotalPages 1 }}
      <nav class="pagination">
        {{ if $paginator.HasPrev }}
        <a href="{{ $paginator.Prev.URL }}" class="prev">&lt;</a>
        {{ end }}
        <span class="page-info">{{ $paginator.PageNumber }} / {{ $paginator.TotalPages }}</span>
        {{ if $paginator.HasNext }}
        <a href="{{ $paginator.Next.URL }}" class="next">&gt;</a>
        {{ end }}
      </nav>
      {{ end }}
    </main>
  </div>

  <footer>
    <p>©︎ Good Eyes S.S {{ now.Year }}</p>
  </footer>
</body>
</html>
